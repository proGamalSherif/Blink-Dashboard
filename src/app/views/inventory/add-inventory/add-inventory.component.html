<div class="container mt-5">
  <div class="row justify-content-center">
    <div class="col-12 col-lg-10">
      <form class="classic-form p-4" [formGroup]="addInventoryForm" (ngSubmit)="onSubmit()">
        
        <div class="row">
          <!-- Column 1 -->
          <div class="col-md-6">
            <!-- Inventory Name -->
            <div class="form-group mb-3">
              <label class="form-label">Inventory Name</label>
              <input type="text" class="form-control" formControlName="inventoryName">
              @if(inventoryName?.invalid && (inventoryName?.dirty || inventoryName?.touched)) {
                <div class="invalid-feedback d-block">
                  @if(inventoryName?.errors?.['required']) {
                    <span>Inventory Name is required</span>
                  }
                  @if(inventoryName?.errors?.['minlength']) {
                    <span>Must be at least 3 characters</span>
                  }
                </div>
              }
            </div>

            <!-- Inventory Address -->
            <div class="form-group mb-3">
              <label class="form-label">Inventory Address</label>
              <input type="text" class="form-control" formControlName="inventoryAddress">
              @if(inventoryAddress?.invalid && (inventoryAddress?.dirty || inventoryAddress?.touched)) {
                <div class="invalid-feedback d-block">
                  @if(inventoryAddress?.errors?.['required']) {
                    <span>Inventory Address is required</span>
                  }
                  @if(inventoryAddress?.errors?.['minlength']) {
                    <span>Must be at least 3 characters</span>
                  }
                </div>
              }
            </div>

            <!-- Phone -->
            <div class="form-group mb-3">
              <label class="form-label">Phone</label>
              <input type="text" class="form-control" formControlName="phone">
              @if(phone?.invalid && (phone?.dirty || phone?.touched)) {
                <div class="invalid-feedback d-block">
                  @if(phone?.errors?.['required']) {
                    <span>Phone is required</span>
                  }
                  @if(phone?.errors?.['pattern']) {
                    <span>Must be 11 digits</span>
                  }
                </div>
              }
            </div>
          </div>

          <!-- Column 2 -->
          <div class="col-md-6">
            <!-- Branch -->
            <div class="form-group mb-3">
              <label class="form-label">Branch</label>
              <select class="form-control" formControlName="branchId">
                <option value="">Select a branch</option>
                @for (branch of BranchArr; track branch.branchId) {
                  <option [value]="branch.branchId">{{ branch.branchName }}</option>
                }
              </select>
              @if(branchId?.invalid && (branchId?.dirty || branchId?.touched)) {
                <div class="invalid-feedback d-block">
                  @if(branchId?.errors?.['required']) {
                    <span>Branch selection is required</span>
                  }
                </div>
              }
            </div>

            <!-- Latitude -->
            <!-- <div class="form-group mb-3">
              <label class="form-label">Latitude</label>
              <input type="number" class="form-control" formControlName="lat">
              @if(lat?.invalid && (lat?.dirty || lat?.touched)) {
                <div class="invalid-feedback d-block">
                  @if(lat?.errors?.['required']) {
                    <span>Latitude is required</span>
                  }
                </div>
              }
            </div> -->

            <!-- Longitude -->
            <div class="form-group mb-3">
              <label class="form-label">Location Link</label>
              <input type="text" class="form-control" #locationLink (change)="getLatLongFromLink(locationLink.value)">
              @if(lat?.invalid && (lat?.dirty || lat?.touched) && long?.invalid && (long?.dirty || long?.touched)) {
                <div class="invalid-feedback d-block">
                  @if(lat?.errors?.['required'] || long?.errors?.['required']) {
                    <span>Location Link is required</span>
                  }
                </div>
              }
            </div>
          </div>
        </div>

        <div class="form-footer mt-4">
          <button type="submit" class="btn btn-danger text-light"  style="width: 30%; border-radius: 2px !important;" [disabled]="addInventoryForm.invalid">
            Add
          </button>
        </div>
      </form>
    </div>
  </div>
</div>